<html>
<head>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
    }

    h1 {
      font-size: 3rem;
      text-align: center;
      margin-top: 2rem;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 1rem;
    }

    .controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .controls label {
      font-weight: bold;
    }

    .controls input {
      width: 100px;
    }

    .controls select {
      width: 200px;
    }

    .preview {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.5rem;
    }

    .preview div {
      background-color: white;
      border-radius: 5px;
      padding: 0.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .preview p {
      font-size: var(--size);
      line-height: 1.2;
    }
  </style>
</head>
<body>
  <h1>文本比例在线工具</h1>
  <div class="container">
    <div class="controls">
      <label for="base">基准大小（像素）</label>
      <input type="number" id="base" value="16" min="8" max="32">
      <label for="scale">比例</label>
      <select id="scale">
        <option value="1.067">小二度</option>
        <option value="1.125">大二度</option>
        <option value="1.2">小三度</option>
        <option value="1.25">大三度</option>
        <option value="1.333">纯四度</option>
        <option value="1.414">增四度</option>
        <option value="1.5">纯五度</option>
        <option value="1.618">黄金比例</option>
        <option value="1.667">小六度</option>
        <option value="1.778">大六度</option>
        <option value="2">八度</option>
        <option value="2.5">大十度</option>
        <option value="3">大十二度</option>
        <option value="4">双八度</option>
        <option value="8">四倍八度</option>
      </select>
    </div>

    <div class="preview">
      <!-- 这里是预览区域，会根据用户的选择动态生成 -->
    </div>

  </div>

  <script>
    // 获取元素
    const baseInput = document.getElementById("base");
    const scaleSelect = document.getElementById("scale");
    const previewDiv = document.querySelector(".preview");

    // 定义一个函数，根据用户的选择生成预览内容
    function generatePreview() {
      // 清空原有的内容
      previewDiv.innerHTML = "";

      // 获取用户选择的基准大小和比例
      const base = Number(baseInput.value);
      const scale = Number(scaleSelect.value);

      // 定义一个数组，存储不同级别的文本
      const texts = ["标题一", "标题二", "标题三", "标题四", "正文", "小字"];

      // 遍历数组，为每个文本创建一个div元素，并设置其字体大小
      for (let i = 0; i < texts.length; i++) {
        // 计算当前文本的字体大小，根据公式：size = base * scale ^ i
        const size = base * Math.pow(scale, i);

        // 创建一个div元素
        const div = document.createElement("div");

        // 创建一个p元素，用于显示文本和字体大小
        const p = document.createElement("p");
        p.textContent = `${texts[i]} - ${size.toFixed(2)}px`;

        // 设置p元素的字体大小为计算出的值
        p.style.setProperty("--size", `${size}px`);

        // 将p元素添加到div元素中
        div.appendChild(p);

        // 将div元素添加到预览区域中
        previewDiv.appendChild(div);
      }
    }

    // 调用一次函数，生成初始的预览内容
    generatePreview();

    // 为基准大小和比例的输入框添加事件监听器，当用户改变它们的值时，重新生成预览内容
    baseInput.addEventListener("input", generatePreview);
    scaleSelect.addEventListener("change", generatePreview);
  </script>
</body>
</html>
